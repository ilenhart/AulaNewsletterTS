# ============================================
# AWS CDK Deployment Configuration
# ============================================

# Deployment Environment (development, staging, or production)
ENVIRONMENT=development

# AWS Account and Region (Optional - CDK will use default AWS profile if not set)
# CDK_DEFAULT_ACCOUNT=123456789012
# CDK_DEFAULT_REGION=us-east-1

# Cost Allocation Tags (Optional)
STACK_OWNER=Team
COST_CENTER=Engineering

# ============================================
# Aula API Configuration
# ============================================

AULA_USERNAME=your_aula_username
AULA_PASSWORD=your_aula_password
API_URL=https://www.aula.dk/api/

# ============================================
# Parent and Child Information
# ============================================

PARENT_FIRSTNAME=YourFirstName
CHILD_FIRSTNAME=ChildFirstName
CHILD_NAME=Child FullName
PARENT_NAMES=Parent1 FullName, Parent2 FullName

# ============================================
# Message Configuration
# ============================================

MESSAGE_FAMILY_NAMES_TO_FLAG=Child,Parent1,Parent2
PARENT_MAILBOX_IDS=1234567,1234568

# ============================================
# Email Configuration (Amazon SES)
# ============================================

EMAIL_FROM_ADDRESS=your-verified-email@example.com
EMAIL_TO_ADDRESSES=recipient1@example.com,recipient2@example.com

# SMTP Configuration (Optional - for alternative email sending)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=smtp_username
SMTP_PASSWORD=smtp_password

# ============================================
# API Authentication
# ============================================

# Secret token for ManageSessionId API endpoint
AULASESSION_AUTHENTICATE_TOKEN=your-secret-token-here

# ============================================
# Data Retrieval Configuration - Newsletter Generation
# ============================================

# Days to look back when generating the newsletter
THREADMESSAGES_DAYS_IN_PAST=3
CALENDAR_EVENTS_DAYS_IN_PAST=3
CALENDAR_EVENTS_DAYS_IN_FUTURE=7
POSTS_DAYS_IN_PAST=3

# ============================================
# Data Retrieval Configuration - GetAulaAndPersist Lambda
# ============================================

# Days of data to persist to DynamoDB (separate from newsletter configuration)
THREAD_MESSAGES_DAYS=30
POSTS_DAYS=30
CALENDAR_EVENTS_DAYS_PAST=10
CALENDAR_EVENTS_DAYS_FUTURE=30
GALLERY_DAYS=5

# ============================================
# Lambda Timeout Configuration (seconds)
# ============================================

GET_AULA_TIMEOUT=900                    # GetAulaAndPersist timeout (15 minutes)
GENERATE_NEWSLETTER_TIMEOUT=900         # GenerateNewsletter timeout (15 minutes)
KEEP_SESSION_ALIVE_TIMEOUT=60           # KeepSessionAlive timeout (1 minute)

# ============================================
# EventBridge Cron Schedules (Optional - defaults shown)
# ============================================

# Format: minute hour day-of-month month day-of-week year
# Examples:
#   Every 4 hours: 0 0/4 * * ? *
#   Every 6 hours: 0 0/6 * * ? *
#   Twice daily at 9am and 5pm UTC: 0 9,17 * * ? *
#   Daily at 6pm UTC: 0 18 * * ? *

GET_AULA_SCHEDULE=0 9,17 * * ? *               # Twice daily at 9am and 5pm UTC
GENERATE_NEWSLETTER_SCHEDULE=0 18 * * ? *      # Daily at 6pm UTC
KEEP_SESSION_ALIVE_SCHEDULE=0 0/4 * * ? *      # Every 4 hours

# ============================================
# AWS Configuration (Optional - usually auto-detected)
# ============================================

# AWS Region Override (if you need to override the default region)
# AWS_REGION_OVERRIDE=us-east-1

# AWS Credentials (Optional - only for local development)
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key

# ============================================
# NOTE: The following variables are automatically set by CDK during deployment:
# ============================================

# DynamoDB Table Names (set by CDK)
# AULA_SESSION_ID_TABLE=AulaSessionIdTable
# DAILY_OVERVIEW_TABLE=RAW_dailyOverview
# THREADS_TABLE=RAW_threads
# THREAD_MESSAGES_TABLE=RAW_threadMessages
# CALENDAR_EVENTS_TABLE=RAW_calendarEvents
# POSTS_TABLE=RAW_posts
# WEEK_OVERVIEW_TABLE=RAW_weekOverview
# BOOK_LIST_TABLE=RAW_bookList
# GALLERY_ALBUMS_TABLE=RAW_galleryAlbums
# DERIVED_EVENTS_TABLE=RAW_derivedEvents
# ATTACHMENTS_TABLE=AulaAttachmentsTable

# S3 Bucket Names (set by CDK)
# ATTACHMENTS_BUCKET=<auto-generated-bucket-name>

# Bedrock Configuration (set by CDK)
# BEDROCK_MODEL_ID=anthropic.claude-3-sonnet-20240229-v1:0
